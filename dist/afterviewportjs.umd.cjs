(function(p,y){typeof exports=="object"&&typeof module<"u"?module.exports=y():typeof define=="function"&&define.amd?define(y):(p=typeof globalThis<"u"?globalThis:p||self,p.afterviewportjs=y())})(this,function(){"use strict";var p=(d=>(d[d.Partial=0]="Partial",d[d.In=1]="In",d[d.Out=2]="Out",d))(p||{}),y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},E={},w={get exports(){return E},set exports(d){E=d}},v={},L={get exports(){return v},set exports(d){v=d}},b;function A(){return b||(b=1,function(d){(function(s,e){d.exports?d.exports=e():s.EvEmitter=e()})(typeof window<"u"?window:y,function(){function s(){}let e=s.prototype;return e.on=function(r,n){if(!r||!n)return this;let a=this._events=this._events||{},l=a[r]=a[r]||[];return l.includes(n)||l.push(n),this},e.once=function(r,n){if(!r||!n)return this;this.on(r,n);let a=this._onceEvents=this._onceEvents||{},l=a[r]=a[r]||{};return l[n]=!0,this},e.off=function(r,n){let a=this._events&&this._events[r];if(!a||!a.length)return this;let l=a.indexOf(n);return l!=-1&&a.splice(l,1),this},e.emitEvent=function(r,n){let a=this._events&&this._events[r];if(!a||!a.length)return this;a=a.slice(0),n=n||[];let l=this._onceEvents&&this._onceEvents[r];for(let o of a)l&&l[o]&&(this.off(r,o),delete l[o]),o.apply(this,n);return this},e.allOff=function(){return delete this._events,delete this._onceEvents,this},s})}(L)),v}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(d){(function(s,e){d.exports?d.exports=e(s,A()):s.imagesLoaded=e(s,s.EvEmitter)})(typeof window<"u"?window:y,function(e,r){let n=e.jQuery,a=e.console;function l(t){return Array.isArray(t)?t:typeof t=="object"&&typeof t.length=="number"?[...t]:[t]}function o(t,i,h){if(!(this instanceof o))return new o(t,i,h);let c=t;if(typeof t=="string"&&(c=document.querySelectorAll(t)),!c){a.error(`Bad element for imagesLoaded ${c||t}`);return}this.elements=l(c),this.options={},typeof i=="function"?h=i:Object.assign(this.options,i),h&&this.on("always",h),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))}o.prototype=Object.create(r.prototype),o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const m=[1,9,11];o.prototype.addElementImages=function(t){t.nodeName==="IMG"&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);let{nodeType:i}=t;if(!i||!m.includes(i))return;let h=t.querySelectorAll("img");for(let c of h)this.addImage(c);if(typeof this.options.background=="string"){let c=t.querySelectorAll(this.options.background);for(let q of c)this.addElementBackgroundImages(q)}};const f=/url\((['"])?(.*?)\1\)/gi;o.prototype.addElementBackgroundImages=function(t){let i=getComputedStyle(t);if(!i)return;let h=f.exec(i.backgroundImage);for(;h!==null;){let c=h&&h[2];c&&this.addBackground(c,t),h=f.exec(i.backgroundImage)}},o.prototype.addImage=function(t){let i=new u(t);this.images.push(i)},o.prototype.addBackground=function(t,i){let h=new g(t,i);this.images.push(h)},o.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let t=(i,h,c)=>{setTimeout(()=>{this.progress(i,h,c)})};this.images.forEach(function(i){i.once("progress",t),i.check()})},o.prototype.progress=function(t,i,h){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,i]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&a&&a.log(`progress: ${h}`,t,i)},o.prototype.complete=function(){let t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){let i=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[i](this)}};function u(t){this.img=t}u.prototype=Object.create(r.prototype),u.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},u.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},u.prototype.confirm=function(t,i){this.isLoaded=t;let{parentNode:h}=this.img,c=h.nodeName==="PICTURE"?h:this.img;this.emitEvent("progress",[this,c,i])},u.prototype.handleEvent=function(t){let i="on"+t.type;this[i]&&this[i](t)},u.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},u.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},u.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function g(t,i){this.url=t,this.element=i,this.img=new Image}return g.prototype=Object.create(u.prototype),g.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},g.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},g.prototype.confirm=function(t,i){this.isLoaded=t,this.emitEvent("progress",[this,this.element,i])},o.makeJQueryPlugin=function(t){t=t||e.jQuery,t&&(n=t,n.fn.imagesLoaded=function(i,h){return new o(this,i,h).jqDeferred.promise(n(this))})},o.makeJQueryPlugin(),o})})(w);class I{constructor(s="[data-av]",e){return this.groups=[],document.querySelectorAll(s).forEach(n=>{let a=n.getAttribute("data-av")??"",l=n.getAttribute("data-av-sequential")??!1;l=l!==!1;let o=!!n.hasAttribute("data-av-resets"),m=!!n.hasAttribute("data-av-only-when-totally-in"),f={name:a,sequential:l,resets:o,onlyWhenTotallyIn:m,items:[]};this.groups.find(u=>u.name==f.name)||this.groups.push(f)}),this.groups.forEach(n=>{let a=document.querySelectorAll(`[data-av="${n.name}"]`),l=Array.from(a);n.sequential&&l.sort((o,m)=>{let f=o.getAttribute("data-av-sequential")??"",u=m.getAttribute("data-av-sequential")??"";return f>u?1:f<u?-1:0}),l.forEach(o=>{let m="300",f=n.items.length>0?n.items[n.items.length-1].duration:"0",u=n.items.length>0?n.items[n.items.length-1].delay:"0",g=o.getAttribute("data-av-animation")??"av-style-01",t=o.getAttribute("data-av-animation-duration")??m,i=o.getAttribute("data-av-animation-delay")??0;i=i||(n.sequential?Number(f)+Number(u):i),n.items.push({element:o,group:n,animation:g,duration:t,delay:i})})}),console.log(this.groups),this.startBooting(),window.addEventListener("load",()=>{E("body",{background:!0},()=>{this.init(),this.addListeners(),this.finishBooting()})}),this}startBooting(){var s;(s=document.querySelector("body"))==null||s.setAttribute("style","opacity:0")}finishBooting(){var s;(s=document.querySelector("body"))==null||s.setAttribute("style","")}isInViewport(s){const e=s.element.getBoundingClientRect(),r={top:0,right:window.innerWidth||document.documentElement.clientWidth,bottom:window.innerHeight||document.documentElement.clientHeight,left:0};return e.bottom>=r.top&&e.right>=r.left&&e.top<=r.bottom&&e.left<=r.right?e.top>=r.top&&e.left>=r.left&&e.bottom<=r.bottom&&e.right<=r.right?p.In:p.Partial:p.Out}init(){this.groups.forEach(s=>{s.items.forEach(e=>{var r;switch(e.animation){case"av-style-01":case"av-style-02":case"av-style-03":case"av-style-04":case"av-style-05":case"av-style-06":case"av-style-07":case"av-style-08":case"av-style-09":case"av-style-10":case"av-style-11":this.elAddWrapper(e),(r=e.wrapper)==null||r.setAttribute("class",`av-animation av-animation--${e.animation} av-animation-duration av-animation-duration--${e.duration} av-animation-delay av-animation-delay--${e.delay}`);break}})})}listenersCallback(){this.groups.forEach(s=>{s.items.forEach(e=>{var r,n,a,l,o,m;if(this.isInViewport(e)==p.In||!s.onlyWhenTotallyIn&&this.isInViewport(e)==p.Partial)if(s.sequential){let f=1;(r=e.wrapper)!=null&&r.classList.contains("av-ani-end")||(this.isInViewport(e)==p.In||!s.onlyWhenTotallyIn&&this.isInViewport(e)==p.Partial)&&((n=e.wrapper)==null||n.classList.add("av-animation-delay--"+Number(e.delay)*f),(a=e.wrapper)==null||a.classList.add("av-ani-end"),f++)}else(l=e.wrapper)!=null&&l.classList.contains("av-ani-end")||(o=e.wrapper)==null||o.classList.add("av-ani-end");else s.resets&&((m=e.wrapper)==null||m.classList.remove("av-ani-end"))})})}addListeners(){window.addEventListener("scroll",()=>{this.listenersCallback()},{passive:!0}),window.addEventListener("resize",()=>{this.listenersCallback()},{passive:!0}),window.dispatchEvent(new Event("resize"))}elAddWrapper(s){const e=document.createElement("div");s.element.insertAdjacentElement("afterend",e),e.appendChild(s.element),s.wrapper=e}}const x="";function k(d,s){return new I(d,s)}return new I,k});
